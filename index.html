<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTI ë¶„ì„ ì‚¬ì´íŠ¸</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');

        :root {
            --primary-color: #6a11cb;
            --secondary-color: #2575fc;
            --background-color: #f0f4f8;
            --card-background: #ffffff;
            --text-color: #333333;
            --button-text-color: #ffffff;
            --shadow-color: rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        .container {
            width: 100%;
            max-width: 600px;
            background: var(--card-background);
            border-radius: 20px;
            box-shadow: 0 10px 30px var(--shadow-color);
            padding: 40px;
            text-align: center;
            transition: all 0.3s ease;
        }

        /* âœ… 1. ìš°ìƒë‹¨ ê³ ì • ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        #fullscreen-link-button {
            position: fixed; 
            top: 20px;      
            right: 20px;    
            width: 120px;   
            height: 40px;
            background: linear-gradient(45deg, var(--secondary-color), var(--primary-color));
            color: var(--button-text-color);
            border: none;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 700;
            cursor: pointer;
            z-index: 1000;  
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s;
            text-decoration: none; 
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #fullscreen-link-button:hover {
            transform: scale(1.05);
        }
        /* -------------------------------------- */

        h1 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-weight: 700;
        }

        #intro-page p {
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        .button {
            background: linear-gradient(45deg, var(--secondary-color), var(--primary-color));
            color: var(--button-text-color);
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            text-decoration: none;
            display: inline-block;
        }

        .button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        .question-card {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .question-card.active {
            display: block;
        }

        .question-text {
            font-size: 1.3em;
            font-weight: 700;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option-button {
            background-color: var(--card-background);
            border: 2px solid var(--secondary-color);
            color: var(--secondary-color);
            padding: 15px;
            border-radius: 10px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
        }

        .option-button:hover, .option-button.selected {
            background: var(--secondary-color);
            color: var(--button-text-color);
            transform: scale(1.02);
            box-shadow: 0 4px 10px rgba(37, 117, 252, 0.4);
        }

        .progress-bar-container {
            width: 100%;
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            margin-top: 20px;
        }

        .progress-bar {
            height: 100%;
            background: var(--secondary-color);
            border-radius: 4px;
            transition: width 0.3s ease-in-out;
        }

        #result-page {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        #result-page h2 {
            font-size: 2em;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        #result-page h3 {
            font-size: 1.5em;
            color: var(--secondary-color);
            margin-bottom: 20px;
        }

        #result-description {
            display: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            /* ğŸ’¡ ìˆ˜ì •: ëª¨ë°”ì¼ ë·°í¬íŠ¸ì—ì„œëŠ” 'ì „ì²´ í™”ë©´ ì´ë¯¸ì§€ ë³´ê¸°' ë²„íŠ¼ ìˆ¨ê¸°ê¸° */
            #fullscreen-link-button {
                display: none; 
            }

            .button {
                padding: 12px 25px;
                font-size: 1em;
            }

            .question-text {
                font-size: 1.1em;
            }

            .option-button {
                padding: 12px;
                font-size: 0.9em;
            }

            h1 {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>
    
    <a id="fullscreen-link-button" href="image_fullscreen.html">ì „ì²´ í™”ë©´ ì´ë¯¸ì§€ ë³´ê¸°</a>

    <div class="container">
        <div id="intro-page">
            <h1>ë‚˜ì˜ ë¯¹ìŠ¤ë¯¹ìŠ¤ ì¹´ë“œ ìºë¦­í„°ëŠ”?</h1>
            <p>ì§ˆë¬¸ì— ë‹µí•˜ê³  ë‹¹ì‹ ì˜ ë¯¹ìŠ¤ë¯¹ìŠ¤ ì¹´ë“œ ìºë¦­í„°ë¥¼ ì•Œì•„ë³´ì„¸ìš”!</p>
            <button class="button" onclick="startQuiz()">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
        </div>

        <div id="quiz-page" style="display:none;">
            <div id="quiz-container">
                </div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progress-bar" style="width: 0%;"></div>
            </div>
        </div>

        <div id="result-page">
            <h2>ë‹¹ì‹ ì€...</h2>
            <h3 id="mbti-type"></h3>
            <div id="result-description"></div>
            <button class="button" onclick="goToCharacterPage()">ìºë¦­í„° ëª©ë¡ ë³´ëŸ¬ê°€ê¸°</button>
        </div>
    </div>

    <script>
        // MBTI í…ŒìŠ¤íŠ¸ ì§ˆë¬¸ ë°ì´í„° (ì˜ˆ/ì•„ë‹ˆì˜¤ ë²„ì „)
        const questions = [
            { question: "ì¹œêµ¬ë“¤ê³¼ íŒŒí‹°ì— ê°€ëŠ” ê²ƒë³´ë‹¤ í˜¼ì ìˆëŠ” ê²ƒì´ ë” í¸í•˜ë‹¤.", options: [{ text: "ì˜ˆ", type: "I" }, { text: "ì•„ë‹ˆì˜¤", type: "E" }] },
            { question: "ëˆˆì— ë³´ì´ëŠ” í˜„ì‹¤ì ì¸ ì‚¬ì‹¤ì— ë” ì§‘ì¤‘í•˜ëŠ” í¸ì´ë‹¤.", options: [{ text: "ì˜ˆ", type: "S" }, { text: "ì•„ë‹ˆì˜¤", type: "N" }] },
            { question: "ê°ê´€ì ì¸ ë…¼ë¦¬ë‚˜ ì›ì¹™ì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” í¸ì´ë‹¤.", options: [{ text: "ì˜ˆ", type: "T" }, { text: "ì•„ë‹ˆì˜¤", type: "F" }] },
            { question: "ì¦‰í¥ì ì¸ ê³„íšë³´ë‹¤ëŠ” ë¯¸ë¦¬ ì„¸ìš´ ê³„íšì„ ë”°ë¥´ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.", options: [{ text: "ì˜ˆ", type: "J" }, { text: "ì•„ë‹ˆì˜¤", type: "P" }] },
            { question: "ì—¬ëŸ¬ ì‚¬ëŒê³¼ í•¨ê»˜ ìˆì„ ë•Œ ì—ë„ˆì§€ê°€ ìƒê¸´ë‹¤.", options: [{ text: "ì˜ˆ", type: "E" }, { text: "ì•„ë‹ˆì˜¤", type: "I" }] },
            { question: "ë¯¸ë˜ì˜ ê°€ëŠ¥ì„±ì„ ìƒìƒí•˜ëŠ” ê²ƒì„ ì¦ê¸´ë‹¤.", options: [{ text: "ì˜ˆ", type: "N" }, { text: "ì•„ë‹ˆì˜¤", type: "S" }] },
            { question: "ë‹¤ë¥¸ ì‚¬ëŒì˜ ê°ì •ì„ ë¨¼ì € ì‚´í”¼ê³  ê³µê°í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.", options: [{ text: "ì˜ˆ", type: "F" }, { text: "ì•„ë‹ˆì˜¤", type: "T" }] },
            { question: "ë§ˆê° ê¸°í•œ ì§ì „ê¹Œì§€ ì¼ì„ ë¯¸ë£¨ëŠ” ê²½ìš°ê°€ ë§ë‹¤.", options: [{ text: "ì˜ˆ", type: "P" }, { text: "ì•„ë‹ˆì˜¤", type: "J" }] },
            { question: "ìƒˆë¡œìš´ ì‚¬ëŒì„ ë§Œë‚˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.", options: [{ text: "ì˜ˆ", type: "E" }, { text: "ì•„ë‹ˆì˜¤", type: "I" }] },
            { question: "êµ¬ì²´ì ì¸ ê²½í—˜ì„ í†µí•´ ë°°ìš°ëŠ” ê²ƒì„ ì„ í˜¸í•œë‹¤.", options: [{ text: "ì˜ˆ", type: "S" }, { text: "ì•„ë‹ˆì˜¤", type: "N" }] },
            { question: "ê²°ì •ì„ ë‚´ë¦´ ë•Œ, ì´ì„±ì ì¸ íŒë‹¨ì„ ìš°ì„ ì‹œí•œë‹¤.", options: [{ text: "ì˜ˆ", type: "T" }, { text: "ì•„ë‹ˆì˜¤", type: "F" }] },
            { question: "ê³„íš ì—†ì´ ììœ ë¡­ê²Œ ì—¬í–‰í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.", options: [{ text: "ì˜ˆ", type: "P" }, { text: "ì•„ë‹ˆì˜¤", type: "J" }] }
        ];

        // MBTI ìœ í˜•ì„ ìƒˆë¡œìš´ ì¹´í…Œê³ ë¦¬ë¡œ ë¶„ë¥˜
        const mbtiCategories = {
            'ESTP': 'ìš©ë§¹',
            'ESFP': 'ìš©ë§¹',
            'ESTJ': 'í‰í­',
            'ISTP': 'í‰í­',
            'ENTJ': 'í‰í­',
            'INTP': 'êµí™œ',
            'INFP': 'êµí™œ',
            'ISFP': 'êµí™œ',
            'ENFJ': 'í¬ìš©',
            'ESFJ': 'í¬ìš©',
            'ENTP': 'ê³ ê·€',
            'ENFP': 'ê³ ê·€',
            'ISTJ': 'ì¸ë‚´',
            'ISFJ': 'ì¸ë‚´',
            'INTJ': 'ì¸ë‚´',
            'INFJ': 'ì¸ë‚´'
        };

        const introPage = document.getElementById('intro-page');
        const quizPage = document.getElementById('quiz-page');
        const resultPage = document.getElementById('result-page');
        const quizContainer = document.getElementById('quiz-container');
        const progressBar = document.getElementById('progress-bar');
        const mbtiTypeEl = document.getElementById('mbti-type');

        let currentQuestionIndex = 0;
        let scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };

        function startQuiz() {
            introPage.style.display = 'none';
            quizPage.style.display = 'block';
            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestionIndex < questions.length) {
                const questionData = questions[currentQuestionIndex];
                quizContainer.innerHTML = ''; 
                
                const questionCard = document.createElement('div');
                questionCard.className = 'question-card active';

                const questionText = document.createElement('div');
                questionText.className = 'question-text';
                questionText.textContent = questionData.question;
                questionCard.appendChild(questionText);

                const optionsContainer = document.createElement('div');
                optionsContainer.className = 'options-container';

                questionData.options.forEach(option => {
                    const optionButton = document.createElement('button');
                    optionButton.className = 'option-button';
                    optionButton.textContent = option.text;
                    optionButton.onclick = () => handleAnswer(option.type);
                    optionsContainer.appendChild(optionButton);
                });
                
                questionCard.appendChild(optionsContainer);
                quizContainer.appendChild(questionCard);
                updateProgressBar();
            } else {
                showResult();
            }
        }

        function handleAnswer(type) {
            scores[type]++;
            currentQuestionIndex++;
            loadQuestion();
        }

        function updateProgressBar() {
            const progress = (currentQuestionIndex / questions.length) * 100;
            progressBar.style.width = progress + '%';
        }

        function determineMbtiType() {
            let mbti = "";
            mbti += scores.E > scores.I ? "E" : "I";
            mbti += scores.S > scores.N ? "S" : "N";
            mbti += scores.T > scores.F ? "T" : "F";
            mbti += scores.J > scores.P ? "J" : "P";
            return mbti;
        }

        function showResult() {
            quizPage.style.display = 'none';
            resultPage.style.display = 'block';

            const mbti = determineMbtiType();
            const category = mbtiCategories[mbti] || 'ì•Œ ìˆ˜ ì—†ìŒ';
            
            mbtiTypeEl.textContent = `${category} ìœ í˜•ì…ë‹ˆë‹¤.`;

            const resultButton = resultPage.querySelector('button');
            resultButton.textContent = `${category} ìœ í˜•ì˜ ìºë¦­í„° ë³´ëŸ¬ê°€ê¸°`;
            resultButton.onclick = goToCharacterPage; 
        }

        function goToCharacterPage() {
             const mbti = determineMbtiType();
             const category = mbtiCategories[mbti] || 'ì•Œ ìˆ˜ ì—†ìŒ';
             // 'characters.html'ë¡œ ì´ë™
             window.location.href = `characters.html?type=${encodeURIComponent(category)}`; 
        }

    </script>
</body>
</html>